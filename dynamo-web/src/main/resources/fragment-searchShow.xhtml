<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<h:form id="searchShowForm">
	<div id="searchDialog" class="modal fade" tabindex="-1"
		role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">

				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<h3>Search for Show</h3>
				</div>
				<div class="modal-body">
					<div class="input-group">
						<div class="input-group-btn">
							<h:selectOneMenu value="#{tvshows.searchLanguage}" styleClass="form-control" required="true" style="width: 110px">
								<f:selectItems value="#{listOfValues.languages}" />
							</h:selectOneMenu>
						</div>
						<h:inputText id="searchString" value="#{tvshows.searchString}" required="true" styleClass="form-control" />
						<div class="input-group-btn">
							<h:commandButton styleClass="btn btn-primary" value="Search" action="#{tvshows.searchSeries}"> 
								<f:ajax execute="@form" render="searchResults"></f:ajax>
							</h:commandButton>
						</div>
					</div>
					<h:dataTable id="searchResults" value="#{tvshows.tvshows}" var="result" styleClass="table">
						<h:column>
							<h:commandLink value="#{result.seriesName}" action="#{tvshows.selectShow(result.id, result.language)}" />
						</h:column>
						<h:column>#{result.firstAired}</h:column>
					</h:dataTable>
				</div>
			</div>
		</div>
	</div>
	<script>
		function openSearchDialog(e) {
			if (e.status == 'success') {
				$('#searchDialog').modal();
			}
		}
	</script>
</h:form>

</html>
