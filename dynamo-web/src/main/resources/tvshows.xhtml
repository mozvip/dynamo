<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

<h:body>
	<ui:composition template="/template.xhtml">
		<ui:define name="title">
	       		TV Shows
       	 	</ui:define>

		<ui:define name="page-header">
			<h1>TV Shows</h1>
		</ui:define>

		<ui:define name="content">

			<style>
.thumbnail {
	border: none;
}

.thumbnail .caption {
	white-space: nowrap;
	text-align: center;
}

.buttons {
	position: absolute;
	right: 32px;
	top: 10px;
}
</style>

			<h:form>
				<ui:repeat var="tvshow" value="#{tvshows.series}">
					<div id="#{tvshow.id}" class="col-lg-2 col-md-2 col-sm-3 col-xs-6">
						<div class="thumbnail">
							<h:link outcome="tvshow">
								<img src="/data/#{tvshow.poster}" class="img-responsive" />
								<f:param name="id" value="#{tvshow.id}" />
							</h:link>
							<div class="caption">#{tvshow.name}</div>
						</div>
						<h:panelGroup id="buttons" class="buttons">
							<ui:fragment rendered="#{!tvshow.ended}">
								<ui:fragment rendered="#{!tvshow.autoDownload}">
									<h:commandLink styleClass="btn btn-sm btn-default" title="Enable auto-download of new episodes">
										<f:ajax listener="#{tvshows.toggleAutoDownload(tvshow)}" render="buttons" />
										<i class="fa fa-heart-o"></i>
									</h:commandLink>
								</ui:fragment>
								<ui:fragment rendered="#{tvshow.autoDownload}">
									<h:commandLink styleClass="btn btn-sm btn-default" title="Disable auto-download of new episodes">
										<f:ajax listener="#{tvshows.toggleAutoDownload(tvshow)}" render="buttons" />
										<i class="fa fa-heart"></i>
									</h:commandLink>
								</ui:fragment>
							</ui:fragment>
						</h:panelGroup>
					</div>
				</ui:repeat>
			</h:form>

		</ui:define>

	</ui:composition>
</h:body>
</html>