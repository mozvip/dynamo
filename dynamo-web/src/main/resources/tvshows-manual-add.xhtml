<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/template.xhtml">
	<ui:define name="title">
	       		TV Shows - Add manually
       	 	</ui:define>

	<ui:define name="content">

		<h:form p:role="form">
			<div class="form-group">
				<h:outputLabel styleClass="control-label" for="tvShowFolder"
					value="Add to folder" />
				<h:selectOneMenu id="tvShowFolder" value="#{tvshows.newShowFolder}"
					converter="PathConverter" required="true" styleClass="form-control">
					<f:selectItems value="#{tvshows.allFolders}" />
				</h:selectOneMenu>
			</div>
			<div class="form-group">
				<h:outputLabel styleClass="control-label"
					value="Desired Audio Language" />
				<h:selectOneMenu value="#{tvshows.audioLanguage}"
					styleClass="form-control">
					<f:selectItem itemLabel="Original" />
					<f:selectItems value="#{listOfValues.languages}" />
				</h:selectOneMenu>
			</div>
			<div class="form-group">
				<h:outputLabel styleClass="control-label"
					value="Desired Subtitles Language" />
				<h:selectOneMenu value="#{tvshows.subtitlesLanguage}"
					styleClass="form-control">
					<f:selectItem itemLabel="None" />
					<f:selectItems value="#{listOfValues.languages}" />
				</h:selectOneMenu>
			</div>
			<div class="form-group">
				<h:outputLabel styleClass="control-label" for="searchTitle"
					value="Show Name" />
				<div class="input-group">
					<div class="input-group-btn">
						<h:selectOneMenu value="#{tvshows.searchLanguage}" required="true"
							styleClass="form-control" style="width: 110px">
							<f:selectItems value="#{listOfValues.languages}" />
						</h:selectOneMenu>
					</div>
					<h:inputText id="searchTitle" value="#{tvshows.searchTitle}"
						styleClass="form-control" required="true" label="Show Name" />
					<div class="input-group-btn">
						<h:commandLink styleClass="btn btn-primary"
							action="#{tvshows.search}">
							<f:ajax execute="@form" render="@form :messages"></f:ajax>
							<i class="fa fa-search" />&nbsp;Search
									</h:commandLink>
					</div>
				</div>
			</div>

			<h:dataTable id="resultsTable" value="#{tvshows.searchResults}"
				rendered="#{not empty tvshows.searchResults}" var="result"
				styleClass="table">
				<h:column>
					<f:facet name="header">
									Name
								</f:facet>
					<a href="http://thetvdb.com/?tab=series&amp;id=#{result.id}"
						target="_blank"> <i class="fa fa-external-link" />&nbsp;#{result.seriesName}
					</a>
				</h:column>
				<h:column>#{result.language}</h:column>
				<h:column>
					<f:facet name="header">
									First Aired
								</f:facet>
								#{result.firstAired}
							</h:column>
				<h:column>
					<h:commandLink styleClass="btn btn-success"
						action="#{tvshows.newShow(result.seriesName, result.id, result.language)}">
						<i class="fa fa-download" />&nbsp;Add this show
								</h:commandLink>
				</h:column>
			</h:dataTable>
		</h:form>
	</ui:define>
</ui:composition>
</html>